<template>
  <div class="permission">
    <div class="close">
      <Close color="#CCC3E2" width=".361rem" height=".361rem" @click="back" />
    </div>
    <div class="img-box">
      <img :src="logo" />
    </div>
    <div class="title">{{ $t("login.title1") }} {{ station_name }}</div>
    <div class="form-container">
      <div class="form-type">
        <div
          class="item item-left"
          :class="mode == 'login' ? 'active' : 'unactive'"
          @click="changeTab('login')"
        >
          {{ $t("login.Entrar") }}
        </div>
        <div
          class="item item-right"
          :class="mode == 'register' ? 'active' : 'unactive'"
          @click="changeTab('register')"
        >
          {{ $t("login.Cadastro") }}
        </div>
      </div>
      <div class="form-box" v-if="mode == 'login'">
        <div class="login-type-box">
          <div @click="changeLoginType(1)" class="type-item">
            <div class="active-type" v-if="login_type == 1"></div>
            <svg
              v-if="login_type == 1"
              t="1738156513147"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4206"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                fill="#FFC536"
                p-id="4207"
              ></path>
              <path
                d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                fill="#FFC536"
                p-id="4208"
              ></path>
            </svg>
            <svg
              v-else
              t="1738156513147"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4206"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                fill="#808080"
                p-id="4207"
              ></path>
              <path
                d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                fill="#808080"
                p-id="4208"
              ></path>
            </svg>
            <span :class="login_type == 1 ? 'active' : 'unactive'">{{
              $t("login.Telefone")
            }}</span>
          </div>
          <div @click="changeLoginType(2)" class="type-item">
            <div class="active-type" v-if="login_type == 2"></div>
            <svg
              v-if="login_type == 2"
              t="1738156612731"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4460"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M893.842 217.557H130.159c-16.261 0-29.443 13.182-29.443 29.443v530c0 16.261 13.182 29.443 29.443 29.443h763.683c16.261 0 29.443-13.183 29.443-29.443V247c0-16.261-13.182-29.443-29.443-29.443z m-85.584 58.886L512 507.651 215.742 276.443h592.516zM159.602 747.557v-440.23l334.283 260.885A29.4 29.4 0 0 0 512 574.443a29.4 29.4 0 0 0 18.115-6.231l334.283-260.884v440.229H159.602z"
                fill="#FFC536"
                p-id="4461"
              ></path>
            </svg>
            <svg
              v-else
              t="1738156612731"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4460"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M893.842 217.557H130.159c-16.261 0-29.443 13.182-29.443 29.443v530c0 16.261 13.182 29.443 29.443 29.443h763.683c16.261 0 29.443-13.183 29.443-29.443V247c0-16.261-13.182-29.443-29.443-29.443z m-85.584 58.886L512 507.651 215.742 276.443h592.516zM159.602 747.557v-440.23l334.283 260.885A29.4 29.4 0 0 0 512 574.443a29.4 29.4 0 0 0 18.115-6.231l334.283-260.884v440.229H159.602z"
                fill="#808080"
                p-id="4461"
              ></path>
            </svg>
            <span :class="login_type == 2 ? 'active' : 'unactive'">E-mail</span>
          </div>
          <div @click="changeLoginType(0)" class="type-item">
            <div class="active-type" v-if="login_type == 0"></div>
            <svg
              v-if="login_type == 0"
              t="1738156695182"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4713"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                fill="#FFC536"
                p-id="4714"
              ></path>
            </svg>
            <svg
              v-else
              t="1738156695182"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4713"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                fill="#808080"
                p-id="4714"
              ></path>
            </svg>
            <span :class="login_type == 0 ? 'active' : 'unactive'">{{
              $t("login.username")
            }}</span>
          </div>
        </div>
        <nut-form ref="loginRef" :model-value="loginForm">
          <nut-form-item prop="account" :rules="[{ validator: customValidatorAccount }]">
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  v-if="login_type == 1"
                  t="1738156790837"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="4966"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                    fill="#808080"
                    p-id="4967"
                  ></path>
                  <path
                    d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                    fill="#808080"
                    p-id="4968"
                  ></path>
                </svg>
                <svg
                  v-else-if="login_type == 2"
                  t="1738156834814"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5174"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M893.842 217.557H130.159c-16.261 0-29.443 13.182-29.443 29.443v530c0 16.261 13.182 29.443 29.443 29.443h763.683c16.261 0 29.443-13.183 29.443-29.443V247c0-16.261-13.182-29.443-29.443-29.443z m-85.584 58.886L512 507.651 215.742 276.443h592.516zM159.602 747.557v-440.23l334.283 260.885A29.4 29.4 0 0 0 512 574.443a29.4 29.4 0 0 0 18.115-6.231l334.283-260.884v440.229H159.602z"
                    fill="#808080"
                    p-id="5175"
                  ></path>
                </svg>
                <svg
                  v-else
                  t="1738156884838"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5381"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                    fill="#808080"
                    p-id="5382"
                  ></path>
                </svg>
                <span v-if="login_type == 1">+55</span>
              </div>
              <nut-input
                v-model="loginForm.account"
                :clearable="true"
                :placeholder="
                  login_type == 1
                    ? $t('login.PhoneNumber')
                    : login_type === 2
                    ? $t('login.EmailAddress')
                    : $t('login.UserName')
                "
                type="text"
              />
            </div>
          </nut-form-item>
          <nut-form-item prop="password" :rules="[{ validator: customValidatorPass }]">
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  t="1738156927936"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5588"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M854.109091 942.778182H144.290909c-25.6 0-46.545455-20.945455-46.545454-46.545455v-488.727272c0-25.6 20.945455-46.545455 46.545454-46.545455h709.818182c25.6 0 46.545455 20.945455 46.545454 46.545455v488.727272c0 25.6-20.945455 46.545455-46.545454 46.545455z m-709.818182-535.272727v488.727272h709.818182v-488.727272H144.290909z"
                    fill="#808080"
                    p-id="5589"
                  ></path>
                  <path
                    d="M278.109091 392.843636c-12.8 0-23.272727-10.472727-23.272727-23.272727v-75.403636c0-134.749091 109.614545-244.363636 244.363636-244.363637s244.363636 109.614545 244.363636 244.363637c0 12.8-10.472727 23.272727-23.272727 23.272727s-23.272727-10.472727-23.272727-23.272727c0-109.149091-88.669091-197.818182-197.818182-197.818182s-197.818182 88.669091-197.818182 197.818182v75.403636c0 12.8-10.472727 23.272727-23.272727 23.272727zM499.2 817.803636c-57.716364 0-104.727273-47.010909-104.727273-104.727272 0-34.909091 17.92-67.490909 46.545455-86.807273v-81.92a58.181818 58.181818 0 0 1 116.363636 0v81.92c28.625455 19.316364 46.545455 51.898182 46.545455 86.807273 0 57.716364-47.010909 104.727273-104.727273 104.727272z m0-285.090909c-6.516364 0-11.636364 5.12-11.636364 11.636364v95.418182c0 9.076364-5.12 17.221818-13.265454 20.945454-20.48 9.774545-33.28 29.789091-33.28 52.363637a58.181818 58.181818 0 0 0 116.363636 0c0-22.341818-12.8-42.589091-33.28-52.363637-8.145455-3.956364-13.265455-12.101818-13.265454-20.945454v-95.418182c0-6.516364-5.352727-11.636364-11.636364-11.636364z"
                    fill="#808080"
                    p-id="5590"
                  ></path>
                </svg>
              </div>
              <nut-input
                v-model="loginForm.password"
                placeholder="Password"
                :type="showpass.login_pass ? 'text' : 'password'"
              />
              <img
                @click="showpass.login_pass = false"
                v-if="showpass.login_pass"
                class="pass-icon"
                src="../assets/images/login/yanjingguan.png"
              />
              <img
                @click="showpass.login_pass = true"
                v-else
                class="pass-icon"
                src="../assets/images/login/yanjingkai.png"
              />
            </div>
          </nut-form-item>
          <nut-form-item prop="action">
            <div class="forget-row">
              <div class="check" @click="is_check = !is_check">
                <svg
                  v-if="is_check"
                  t="1738157034845"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5796"
                  width="0.555rem"
                  height="0.555rem"
                >
                  <path
                    d="M343.669831 592.276606 343.669831 592.276606z"
                    p-id="5797"
                    fill="#06a950"
                  ></path>
                  <path
                    d="M828.706306 919.522734 192.4285 919.522734c-50.24323 0-90.867593-40.726691-90.867593-90.867593L101.560907 192.377336c0-50.24323 40.726691-90.867593 90.867593-90.867593l636.175477 0c50.24323 0 90.867593 40.726691 90.867593 90.867593l0 636.175477C919.573898 878.796043 878.847207 919.522734 828.706306 919.522734L828.706306 919.522734zM765.569701 377.182372 733.745578 345.972219c-17.60048-17.191166-46.150095-17.191166-63.750575 0L446.816828 564.44329l-95.677026-93.630459c-17.60048-17.191166-46.150095-17.191166-63.750575 0l-31.926451 31.210153c-17.60048 17.191166-17.60048 45.22914 0 62.420306l127.501149 124.840612c0 0 0 0 0 0l31.926451 31.210153c17.60048 17.191166 46.150095 17.191166 63.750575 0l286.92875-280.891376C783.272509 422.411512 783.272509 394.373539 765.569701 377.182372L765.569701 377.182372z"
                    p-id="5798"
                    fill="#06a950"
                  ></path>
                </svg>
                <svg
                  v-else
                  t="1738157034845"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5796"
                  width="0.555rem"
                  height="0.555rem"
                >
                  <path
                    d="M343.669831 592.276606 343.669831 592.276606z"
                    p-id="5797"
                    fill="#808080"
                  ></path>
                  <path
                    d="M828.706306 919.522734 192.4285 919.522734c-50.24323 0-90.867593-40.726691-90.867593-90.867593L101.560907 192.377336c0-50.24323 40.726691-90.867593 90.867593-90.867593l636.175477 0c50.24323 0 90.867593 40.726691 90.867593 90.867593l0 636.175477C919.573898 878.796043 878.847207 919.522734 828.706306 919.522734L828.706306 919.522734zM765.569701 377.182372 733.745578 345.972219c-17.60048-17.191166-46.150095-17.191166-63.750575 0L446.816828 564.44329l-95.677026-93.630459c-17.60048-17.191166-46.150095-17.191166-63.750575 0l-31.926451 31.210153c-17.60048 17.191166-17.60048 45.22914 0 62.420306l127.501149 124.840612c0 0 0 0 0 0l31.926451 31.210153c17.60048 17.191166 46.150095 17.191166 63.750575 0l286.92875-280.891376C783.272509 422.411512 783.272509 394.373539 765.569701 377.182372L765.569701 377.182372z"
                    p-id="5798"
                    fill="#808080"
                  ></path>
                </svg>
                <span>{{ $t("login.Lembrar") }}</span>
              </div>
              <div class="forget" @click="modal_visible = true">
                {{ $t("login.Esqueceu") }}?
              </div>
            </div>
          </nut-form-item>
          <nut-form-item prop="submit">
            <div class="login-btn" @click="submitLogin()">
              {{ $t("login.Entrar") }}
              <svg
                v-if="is_loading"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="22px"
                height="22px"
                viewBox="0 0 50 50"
                style="enable-background: new 0 0 50 50"
                xml:space="preserve"
              >
                <path
                  fill="#181717"
                  d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"
                  transform="rotate(275.098 25 25)"
                >
                  <animateTransform
                    attributeType="xml"
                    attributeName="transform"
                    type="rotate"
                    from="0 25 25"
                    to="360 25 25"
                    dur="0.6s"
                    repeatCount="indefinite"
                  ></animateTransform>
                </path>
              </svg>
            </div>
            <div class="register-btn">{{ $t("login.Cadastro") }}</div>
            <div class="des">
              By accessing the site.l confirm that l am 18 years old and l have read
              the<span>Terms of Service</span>
            </div>
          </nut-form-item>
        </nut-form>
      </div>
      <div class="form-box" v-if="mode == 'register' && reg_step == 1">
        <nut-form ref="registerRef1" :model-value="registerForm1">
          <nut-form-item prop="idcard" :rules="[{ validator: customValidatorPassCPF }]">
            <div class="ipt-title">
              <span>CPF</span>
              <div class="circle"></div>
            </div>
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  t="1738157318679"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="6280"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M699.129958 186.598862l229.264591 0c12.737092 0 25.474185 8.491395 25.474185 25.474185l0 0 0 590.143755c0 12.737092-12.737092 25.474185-25.474185 25.474185l0 0L699.129958 827.690986l0-50.947346 203.790406 0L902.920364 237.546208 699.129958 237.546208 699.129958 186.598862 699.129958 186.598862zM699.129958 657.864112l144.351666 0c12.737092 0 21.228487-8.491395 21.228487-16.98279 0-12.737092-8.491395-21.228487-21.228487-21.228487L699.129958 619.652835 699.129958 657.864112 699.129958 657.864112zM699.129958 534.740934l144.351666 0c12.737092 0 21.228487-8.491395 21.228487-21.228487 0-12.737092-8.491395-21.228487-21.228487-21.228487L699.129958 492.283959 699.129958 534.740934 699.129958 534.740934zM699.129958 407.372058l144.351666 0c12.737092 0 21.228487-8.491395 21.228487-21.228487s-8.491395-21.228487-21.228487-21.228487L699.129958 364.915084 699.129958 407.372058zM329.759399 186.598862l369.370559 0 0 50.947346L329.759399 237.546208 329.759399 186.598862 329.759399 186.598862zM699.129958 827.689962 329.759399 827.689962l0-50.947346 369.370559 0L699.129958 827.689962 699.129958 827.689962zM699.129958 364.915084l0 42.455951L554.778292 407.371034c-8.491395 0-16.98279-8.491395-16.98279-21.228487s8.491395-21.228487 16.98279-21.228487L699.129958 364.91406 699.129958 364.915084zM699.129958 492.284983l0 42.455951L554.778292 534.740934c-8.491395 0-16.98279-8.491395-16.98279-21.228487 0-12.737092 8.491395-21.228487 16.98279-21.228487L699.129958 492.283959 699.129958 492.284983zM699.129958 619.653859l0 38.211277L554.778292 657.865135c-8.491395 0-16.98279-8.491395-16.98279-16.98279 0-12.737092 8.491395-21.228487 16.98279-21.228487L699.129958 619.653859 699.129958 619.653859zM329.759399 662.10981l0-42.455951 97.650017 0 0-21.228487 0 0 0 0c0-8.491395-4.245697-16.98279-12.737092-21.228487-12.737092-8.491395-25.474185-12.737092-38.210253-12.737092l0 0 0 0-46.701648 0 0-46.701648 0 0 0 0c21.228487 0 38.211277-8.491395 55.193043-25.474185 12.737092-12.737092 21.228487-33.965579 21.228487-55.193043l0 0 0 0 0 0 0 0c0-21.228487-8.491395-42.455951-21.228487-55.193043-16.98279-12.737092-33.965579-21.228487-55.193043-21.228487l0 0 0 0 0-42.455951 0 0 0 0c29.719882 0 59.438741 12.737092 84.912925 33.965579 21.228487 21.228487 33.965579 50.947346 33.965579 84.912925l0 0 0 0 0 0 0 0c0 33.965579-12.737092 63.684438-33.965579 84.912925-4.245697 4.245697-4.245697 4.245697-8.491395 4.245697 12.737092 4.245697 25.474185 8.491395 33.965579 16.98279 16.98279 12.737092 25.474185 33.965579 29.719882 55.193043l0 0 0 0 0 42.456974 0 21.228487-21.228487 0L329.759399 662.111856zM92.003414 186.598862l237.755985 0 0 50.947346L117.476575 237.546208l0 539.196409 212.281801 0 0 50.947346L92.003414 827.689962c-12.737092 0-25.474185-12.737092-25.474185-25.474185L66.529229 212.072023C66.529229 195.089233 79.266321 186.598862 92.003414 186.598862L92.003414 186.598862zM329.759399 318.213435 329.759399 318.213435 329.759399 318.213435c-33.965579 0-63.684438 12.737092-84.912925 33.965579-25.474185 21.228487-38.210253 50.947346-38.210253 84.912925l0 0 0 0 0 0 0 0c0 33.965579 12.737092 63.684438 38.210253 84.912925 0 0 0 4.245697 4.245697 4.245697-12.737092 4.245697-21.228487 8.491395-33.965579 16.98279l4.245697 0c-21.228487 12.737092-29.719882 33.965579-29.719882 55.193043l0 0 0 0 0 42.456974 0 21.228487 21.228487 0 118.877481 0 0-42.455951L227.863684 619.655905l0-21.228487 0 0 0 0c0-8.491395 8.491395-16.98279 12.737092-21.228487l0 0c12.737092-8.491395 25.474185-12.737092 38.210253-12.737092l0 0 0 0 50.947346 0 0-46.701648 0 0 0 0c-25.474185 0-42.455951-8.491395-55.193043-25.474185-16.98279-12.737092-25.474185-33.965579-25.474185-55.193043l0 0 0 0 0 0 0 0c0-21.228487 8.491395-42.455951 25.474185-55.193043 12.737092-12.737092 29.719882-21.228487 55.193043-21.228487l0 0 0 0L329.758376 318.213435z"
                    fill="#808080"
                    p-id="6281"
                  ></path>
                </svg>
              </div>
              <nut-input v-model="registerForm1.idcard" placeholder="CPF" type="text" />
            </div>
          </nut-form-item>
          <nut-form-item
            prop="realName"
            :rules="[{ validator: customValidatorRealName }]"
          >
            <div class="ipt-title">
              <span>{{ $t("login.RealName") }}</span>
              <div class="circle"></div>
            </div>
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  t="1738157353485"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="6487"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                    fill="#808080"
                    p-id="6488"
                  ></path>
                </svg>
              </div>
              <nut-input
                v-model="registerForm1.realName"
                :placeholder="$t('login.RealName')"
                type="text"
              />
            </div>
          </nut-form-item>
          <nut-form-item prop="sex">
            <div class="ipt-title">
              <span>{{ $t("login.Gender") }}</span>
              <div class="circle"></div>
            </div>
            <div class="gender">
              <div
                class="item"
                @click="changeSex(1)"
                :class="registerForm1.sex == 1 ? 'active' : 'unactive'"
              >
                <svg
                  v-if="!registerForm1.sex == 1"
                  t="1738157726324"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="7111"
                  width="0.416rem"
                  height="0.416rem"
                >
                  <path
                    d="M915.2 64H563.2c-25.6 0-44.8 19.2-44.8 44.8 0 25.6 19.2 44.8 44.8 44.8h236.8L640 320c-64-51.2-140.8-89.6-224-89.6-192 0-352 166.4-352 364.8S224 960 416 960 768 793.6 768 595.2c0-76.8-25.6-153.6-64-211.2l172.8-179.2v268.8c0 25.6 19.2 44.8 44.8 44.8 25.6 0 44.8-19.2 44.8-44.8V108.8c-6.4-25.6-25.6-44.8-51.2-44.8zM416 870.4c-147.2 0-262.4-121.6-262.4-275.2S268.8 320 416 320s262.4 121.6 262.4 275.2-115.2 275.2-262.4 275.2z"
                    fill="#181717"
                    p-id="7112"
                  ></path>
                </svg>
                <svg
                  v-else
                  t="1738157726324"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="7111"
                  width="0.416rem"
                  height="0.416rem"
                >
                  <path
                    d="M915.2 64H563.2c-25.6 0-44.8 19.2-44.8 44.8 0 25.6 19.2 44.8 44.8 44.8h236.8L640 320c-64-51.2-140.8-89.6-224-89.6-192 0-352 166.4-352 364.8S224 960 416 960 768 793.6 768 595.2c0-76.8-25.6-153.6-64-211.2l172.8-179.2v268.8c0 25.6 19.2 44.8 44.8 44.8 25.6 0 44.8-19.2 44.8-44.8V108.8c-6.4-25.6-25.6-44.8-51.2-44.8zM416 870.4c-147.2 0-262.4-121.6-262.4-275.2S268.8 320 416 320s262.4 121.6 262.4 275.2-115.2 275.2-262.4 275.2z"
                    fill="#e6e6e6"
                    p-id="7112"
                  ></path>
                </svg>

                <span
                  :style="{ color: !registerForm1.sex == 1 ? '#E6E6E6' : '#181717' }"
                  >{{ $t("login.Guy") }}</span
                >
              </div>
              <div
                class="item"
                @click="changeSex(0)"
                :class="registerForm1.sex == 0 ? 'active' : 'unactive'"
              >
                <svg
                  v-if="!registerForm1.sex == 1"
                  t="1738157808756"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="7502"
                  width="0.416rem"
                  height="0.416rem"
                >
                  <path
                    d="M639.99904 0.001536a383.487425 383.487425 0 0 0-307.199539 614.399078l-51.199923 51.199924-142.847786-142.335787-72.703891 72.703891 144.895783 144.895783L0 951.808108 72.191892 1024l210.943683-210.943684 144.895783 144.895783 72.191892-72.191892-144.383784-145.407782 51.199923-51.199923A383.999424 383.999424 0 1 0 639.99904 0.001536z m0 665.599002A281.599578 281.599578 0 1 1 921.598618 384.00096a282.111577 282.111577 0 0 1-281.599578 281.599578z"
                    fill="#181717"
                    p-id="7503"
                  ></path>
                </svg>
                <svg
                  v-else
                  t="1738157808756"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="7502"
                  width="0.416rem"
                  height="0.416rem"
                >
                  <path
                    d="M639.99904 0.001536a383.487425 383.487425 0 0 0-307.199539 614.399078l-51.199923 51.199924-142.847786-142.335787-72.703891 72.703891 144.895783 144.895783L0 951.808108 72.191892 1024l210.943683-210.943684 144.895783 144.895783 72.191892-72.191892-144.383784-145.407782 51.199923-51.199923A383.999424 383.999424 0 1 0 639.99904 0.001536z m0 665.599002A281.599578 281.599578 0 1 1 921.598618 384.00096a282.111577 282.111577 0 0 1-281.599578 281.599578z"
                    fill="#e6e6e6"
                    p-id="7503"
                  ></path>
                </svg>
                <span
                  :style="{ color: !registerForm1.sex == 0 ? '#E6E6E6' : '#181717' }"
                  >{{ $t("login.Girl") }}</span
                >
              </div>
            </div>
          </nut-form-item>
          <nut-form-item
            prop="birthday"
            :rules="[{ validator: customValidatorBirthday }]"
          >
            <div class="ipt-title">
              <span>{{ $t("login.DatadeNascimento") }}</span>
              <div class="circle"></div>
            </div>
            <div class="ipt-box" @click="showBirthday = true">
              <div class="icon-box">
                <svg
                  t="1738157399040"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="6694"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M831.6 831H192c-24.8 0-45-20.2-45-45V458c0-24.8 20.2-45 45-45h639.6c24.8 0 45 20.2 45 45v328c0 24.8-20.2 45-45 45zM192 447c-6.1 0-11 4.9-11 11v328c0 6.1 4.9 11 11 11h639.6c6.1 0 11-4.9 11-11V458c0-6.1-4.9-11-11-11H192z"
                    fill="#808080"
                    p-id="6695"
                  ></path>
                  <path
                    d="M148.127 585.754l87.88-157.772 29.702 16.544-87.88 157.772zM355.243 799.257l195.771-371.793 30.083 15.84-195.771 371.793zM671.796 801.211l173.01-345.826 30.406 15.212-173.01 345.826zM181.333 802.136L393.47 426.168l29.611 16.708-212.137 375.967zM516.792 806.18l190.416-378.712 30.375 15.273-190.416 378.712zM806.346 808.654l40.145-90.496 31.079 13.787-40.145 90.496z"
                    fill="#808080"
                    p-id="6696"
                  ></path>
                  <path
                    d="M156.1 630.9h706.5v34H156.1zM361 429.6c-9.4 0-17-7.6-17-17v-94.7c0-9.4 7.6-17 17-17s17 7.6 17 17v94.7c0 9.4-7.6 17-17 17zM491 429.6c-9.4 0-17-7.6-17-17v-94.7c0-9.4 7.6-17 17-17s17 7.6 17 17v94.7c0 9.4-7.6 17-17 17zM498.4 288.6c-25.6-7.9-35.5-22.2-29.8-42.8 8.7-30.9 39.4-40.2 29.8-50s24.5 21 11.5 35.7c-13 14.7-16.7 16.2-19.6 24.4-2 5.6 0.7 16.5 8.1 32.7zM631 429.6c-9.4 0-17-7.6-17-17v-94.7c0-9.4 7.6-17 17-17s17 7.6 17 17v94.7c0 9.4-7.6 17-17 17zM638.4 288.6c-25.6-7.9-35.5-22.2-29.8-42.8 8.7-30.9 39.4-40.2 29.8-50s24.5 21 11.5 35.7c-13 14.7-16.7 16.2-19.6 24.4-2 5.6 0.7 16.5 8.1 32.7zM368.4 288.6c-25.7-7.9-35.6-22.2-29.8-42.8 8.7-30.9 39.4-40.2 29.8-50s24.5 21 11.5 35.7-16.8 16.2-19.7 24.5c-1.9 5.5 0.8 16.4 8.2 32.6z"
                    fill="#808080"
                    p-id="6697"
                  ></path>
                </svg>
              </div>
              <span>{{
                registerForm1.birthday ? registerForm1.birthday : "Insira o anivers√°rio"
              }}</span>
            </div>
          </nut-form-item>
          <nut-form-item prop="submit">
            <div class="login-btn" @click="submitRegisterStep1()">
              {{ $t("btn.confirm") }}
            </div>
          </nut-form-item>
        </nut-form>
      </div>
      <div class="form-box" v-if="mode == 'register' && reg_step == 2">
        <div class="login-type-box">
          <div @click="changeLoginType(1)" class="type-item">
            <div class="active-type" v-if="login_type == 1"></div>
            <svg
              v-if="login_type == 1"
              t="1738156513147"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4206"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                fill="#FFC536"
                p-id="4207"
              ></path>
              <path
                d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                fill="#FFC536"
                p-id="4208"
              ></path>
            </svg>
            <svg
              v-else
              t="1738156513147"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4206"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                fill="#808080"
                p-id="4207"
              ></path>
              <path
                d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                fill="#808080"
                p-id="4208"
              ></path>
            </svg>
            <span :class="login_type == 1 ? 'active' : 'unactive'">{{
              $t("login.Telefone")
            }}</span>
          </div>
          <div @click="changeLoginType(2)" class="type-item">
            <div class="active-type" v-if="login_type == 2"></div>
            <svg
              v-if="login_type == 2"
              t="1738156612731"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4460"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M893.842 217.557H130.159c-16.261 0-29.443 13.182-29.443 29.443v530c0 16.261 13.182 29.443 29.443 29.443h763.683c16.261 0 29.443-13.183 29.443-29.443V247c0-16.261-13.182-29.443-29.443-29.443z m-85.584 58.886L512 507.651 215.742 276.443h592.516zM159.602 747.557v-440.23l334.283 260.885A29.4 29.4 0 0 0 512 574.443a29.4 29.4 0 0 0 18.115-6.231l334.283-260.884v440.229H159.602z"
                fill="#FFC536"
                p-id="4461"
              ></path>
            </svg>
            <svg
              v-else
              t="1738156612731"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4460"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M893.842 217.557H130.159c-16.261 0-29.443 13.182-29.443 29.443v530c0 16.261 13.182 29.443 29.443 29.443h763.683c16.261 0 29.443-13.183 29.443-29.443V247c0-16.261-13.182-29.443-29.443-29.443z m-85.584 58.886L512 507.651 215.742 276.443h592.516zM159.602 747.557v-440.23l334.283 260.885A29.4 29.4 0 0 0 512 574.443a29.4 29.4 0 0 0 18.115-6.231l334.283-260.884v440.229H159.602z"
                fill="#808080"
                p-id="4461"
              ></path>
            </svg>
            <span :class="login_type == 2 ? 'active' : 'unactive'">E-mail</span>
          </div>
          <div @click="changeLoginType(0)" class="type-item">
            <div class="active-type" v-if="login_type == 0"></div>
            <svg
              v-if="login_type == 0"
              t="1738156695182"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4713"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                fill="#FFC536"
                p-id="4714"
              ></path>
            </svg>
            <svg
              v-else
              t="1738156695182"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="4713"
              width="0.555rem"
              height="0.555rem"
            >
              <path
                d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                fill="#808080"
                p-id="4714"
              ></path>
            </svg>
            <span :class="login_type == 0 ? 'active' : 'unactive'">{{
              $t("login.username")
            }}</span>
          </div>
        </div>

        <nut-form ref="registerRef2" :model-value="registerForm2">
          <nut-form-item prop="account" :rules="[{ validator: customValidatorAccount }]">
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  v-if="login_type == 1"
                  t="1738156790837"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="4966"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                    fill="#808080"
                    p-id="4967"
                  ></path>
                  <path
                    d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                    fill="#808080"
                    p-id="4968"
                  ></path>
                </svg>
                <svg
                  v-else-if="login_type == 2"
                  t="1738156834814"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5174"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M893.842 217.557H130.159c-16.261 0-29.443 13.182-29.443 29.443v530c0 16.261 13.182 29.443 29.443 29.443h763.683c16.261 0 29.443-13.183 29.443-29.443V247c0-16.261-13.182-29.443-29.443-29.443z m-85.584 58.886L512 507.651 215.742 276.443h592.516zM159.602 747.557v-440.23l334.283 260.885A29.4 29.4 0 0 0 512 574.443a29.4 29.4 0 0 0 18.115-6.231l334.283-260.884v440.229H159.602z"
                    fill="#808080"
                    p-id="5175"
                  ></path>
                </svg>
                <svg
                  v-else
                  t="1738156884838"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5381"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M517.12 153.6c115.2 0 168.96 61.44 168.96 197.12 0 104.96-23.04 184.32-64 230.4l-25.6 28.16c-15.36 15.36-5.12 40.96 15.36 46.08l38.4 7.68c81.92 17.92 156.16 48.64 192 66.56 7.68 2.56 15.36 12.8 15.36 20.48l12.8 87.04c0 7.68 0 15.36-5.12 20.48-5.12 5.12-12.8 10.24-20.48 10.24h-652.8c-7.68 0-15.36-2.56-20.48-10.24-5.12-5.12-7.68-12.8-5.12-20.48l12.8-87.04c2.56-10.24 7.68-17.92 15.36-20.48 35.84-15.36 110.08-46.08 194.56-66.56l38.4-7.68c20.48-5.12 28.16-30.72 15.36-46.08l-25.6-28.16c-43.52-48.64-64-125.44-64-230.4-7.68-133.12 48.64-197.12 163.84-197.12m0-51.2c-99.84 0-220.16 43.52-220.16 248.32 0 135.68 35.84 217.6 76.8 263.68-84.48 20.48-161.28 51.2-202.24 69.12-25.6 10.24-40.96 33.28-46.08 58.88l-12.8 87.04c-2.56 23.04 2.56 46.08 17.92 61.44 15.36 17.92 35.84 28.16 58.88 28.16h652.8c23.04 0 43.52-10.24 58.88-28.16 15.36-17.92 20.48-40.96 17.92-61.44l-12.8-87.04c-2.56-25.6-20.48-48.64-46.08-61.44-40.96-17.92-117.76-48.64-202.24-69.12 40.96-46.08 76.8-128 76.8-263.68 2.56-202.24-117.76-245.76-217.6-245.76z"
                    fill="#808080"
                    p-id="5382"
                  ></path>
                </svg>
                <span v-if="login_type == 1">+55</span>
              </div>
              <nut-input
                v-model="registerForm2.account"
                :clearable="true"
                :placeholder="
                  login_type == 1
                    ? $t('login.PhoneNumber')
                    : login_type === 2
                    ? $t('login.EmailAddress')
                    : $t('login.UserName')
                "
                type="text"
              />
            </div>
          </nut-form-item>
          <nut-form-item prop="password" :rules="[{ validator: customValidatorPass }]">
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  t="1738156927936"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5588"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M854.109091 942.778182H144.290909c-25.6 0-46.545455-20.945455-46.545454-46.545455v-488.727272c0-25.6 20.945455-46.545455 46.545454-46.545455h709.818182c25.6 0 46.545455 20.945455 46.545454 46.545455v488.727272c0 25.6-20.945455 46.545455-46.545454 46.545455z m-709.818182-535.272727v488.727272h709.818182v-488.727272H144.290909z"
                    fill="#808080"
                    p-id="5589"
                  ></path>
                  <path
                    d="M278.109091 392.843636c-12.8 0-23.272727-10.472727-23.272727-23.272727v-75.403636c0-134.749091 109.614545-244.363636 244.363636-244.363637s244.363636 109.614545 244.363636 244.363637c0 12.8-10.472727 23.272727-23.272727 23.272727s-23.272727-10.472727-23.272727-23.272727c0-109.149091-88.669091-197.818182-197.818182-197.818182s-197.818182 88.669091-197.818182 197.818182v75.403636c0 12.8-10.472727 23.272727-23.272727 23.272727zM499.2 817.803636c-57.716364 0-104.727273-47.010909-104.727273-104.727272 0-34.909091 17.92-67.490909 46.545455-86.807273v-81.92a58.181818 58.181818 0 0 1 116.363636 0v81.92c28.625455 19.316364 46.545455 51.898182 46.545455 86.807273 0 57.716364-47.010909 104.727273-104.727273 104.727272z m0-285.090909c-6.516364 0-11.636364 5.12-11.636364 11.636364v95.418182c0 9.076364-5.12 17.221818-13.265454 20.945454-20.48 9.774545-33.28 29.789091-33.28 52.363637a58.181818 58.181818 0 0 0 116.363636 0c0-22.341818-12.8-42.589091-33.28-52.363637-8.145455-3.956364-13.265455-12.101818-13.265454-20.945454v-95.418182c0-6.516364-5.352727-11.636364-11.636364-11.636364z"
                    fill="#808080"
                    p-id="5590"
                  ></path>
                </svg>
              </div>
              <nut-input
                v-model="registerForm2.password"
                placeholder="Password"
                :type="showpass.register_pass ? 'text' : 'password'"
              />
              <img
                @click="showpass.register_pass = false"
                v-if="showpass.register_pass"
                class="pass-icon"
                src="../assets/images/login/yanjingguan.png"
              />
              <img
                @click="showpass.register_pass = true"
                v-else
                class="pass-icon"
                src="../assets/images/login/yanjingkai.png"
              />
            </div>
          </nut-form-item>

          <nut-form-item
            prop="repassword"
            :rules="[{ validator: customValidatorPassAgain }]"
          >
            <div class="ipt-box">
              <div class="icon-box">
                <svg
                  t="1738156927936"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5588"
                  width="0.444rem"
                  height="0.444rem"
                >
                  <path
                    d="M854.109091 942.778182H144.290909c-25.6 0-46.545455-20.945455-46.545454-46.545455v-488.727272c0-25.6 20.945455-46.545455 46.545454-46.545455h709.818182c25.6 0 46.545455 20.945455 46.545454 46.545455v488.727272c0 25.6-20.945455 46.545455-46.545454 46.545455z m-709.818182-535.272727v488.727272h709.818182v-488.727272H144.290909z"
                    fill="#808080"
                    p-id="5589"
                  ></path>
                  <path
                    d="M278.109091 392.843636c-12.8 0-23.272727-10.472727-23.272727-23.272727v-75.403636c0-134.749091 109.614545-244.363636 244.363636-244.363637s244.363636 109.614545 244.363636 244.363637c0 12.8-10.472727 23.272727-23.272727 23.272727s-23.272727-10.472727-23.272727-23.272727c0-109.149091-88.669091-197.818182-197.818182-197.818182s-197.818182 88.669091-197.818182 197.818182v75.403636c0 12.8-10.472727 23.272727-23.272727 23.272727zM499.2 817.803636c-57.716364 0-104.727273-47.010909-104.727273-104.727272 0-34.909091 17.92-67.490909 46.545455-86.807273v-81.92a58.181818 58.181818 0 0 1 116.363636 0v81.92c28.625455 19.316364 46.545455 51.898182 46.545455 86.807273 0 57.716364-47.010909 104.727273-104.727273 104.727272z m0-285.090909c-6.516364 0-11.636364 5.12-11.636364 11.636364v95.418182c0 9.076364-5.12 17.221818-13.265454 20.945454-20.48 9.774545-33.28 29.789091-33.28 52.363637a58.181818 58.181818 0 0 0 116.363636 0c0-22.341818-12.8-42.589091-33.28-52.363637-8.145455-3.956364-13.265455-12.101818-13.265454-20.945454v-95.418182c0-6.516364-5.352727-11.636364-11.636364-11.636364z"
                    fill="#808080"
                    p-id="5590"
                  ></path>
                </svg>
              </div>
              <nut-input
                v-model="registerForm2.repassword"
                placeholder="Confirm Password"
                :type="showpass.register_pass_again ? 'text' : 'password'"
              />
              <img
                @click="showpass.register_pass_again = false"
                v-if="showpass.register_pass_again"
                class="pass-icon"
                src="../assets/images/login/yanjingguan.png"
              />
              <img
                @click="showpass.register_pass_again = true"
                v-else
                class="pass-icon"
                src="../assets/images/login/yanjingkai.png"
              />
            </div>
          </nut-form-item>

          <nut-form-item prop="submit">
            <div class="login-btn" @click="submitRegister2()">
              {{ $t("login.Entrar") }}
              <svg
                v-if="is_loading"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="22px"
                height="22px"
                viewBox="0 0 50 50"
                style="enable-background: new 0 0 50 50"
                xml:space="preserve"
              >
                <path
                  fill="#181717"
                  d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"
                  transform="rotate(275.098 25 25)"
                >
                  <animateTransform
                    attributeType="xml"
                    attributeName="transform"
                    type="rotate"
                    from="0 25 25"
                    to="360 25 25"
                    dur="0.6s"
                    repeatCount="indefinite"
                  ></animateTransform>
                </path>
              </svg>
            </div>
            <div class="des" style="margin-top: 0.416rem">
              {{ $t("login.tip1") }}<span>Terms of Service</span>
            </div>
          </nut-form-item>
        </nut-form>
      </div>
    </div>

    <nut-overlay
      v-model:visible="modal_visible"
      :lock-scroll="true"
      :close-on-click-overlay="false"
    >
      <div class="overlay-body">
        <div class="overlay-content">
          <div class="modal-close" @click="modal_visible = false">
            <svg
              t="1737048406504"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2325"
              width="22"
              height="22"
            >
              <path
                d="M822.00345 776.822434l0.022513-0.022513L246.50423 201.317075c-5.78782-5.791913-13.785981-9.374508-22.621207-9.374508-17.662265 0-31.980365 14.3181-31.980365 31.980365 0 8.834202 3.582595 16.832364 9.373485 22.620184L776.11226 821.339324c5.838985 6.277984 14.166651 10.209526 23.416316 10.209526 17.662265 0 31.980365-14.3181 31.980365-31.980365C831.508941 790.667767 827.871087 782.620487 822.00345 776.822434z"
                p-id="2326"
                fill="#E6E6E6"
              ></path>
              <path
                d="M776.783549 201.448058l-0.022513-0.022513L201.278189 776.947278c-5.791913 5.78782-9.374508 13.785981-9.374508 22.621207 0 17.662265 14.3181 31.980365 31.980365 31.980365 8.834202 0 16.832364-3.582595 22.620184-9.373485l574.797231-574.836117c6.277984-5.838985 10.209526-14.166651 10.209526-23.416316 0-17.662265-14.3181-31.980365-31.980365-31.980365C790.628882 191.942567 782.580578 195.58042 776.783549 201.448058z"
                p-id="2327"
                fill="#E6E6E6"
              ></path>
            </svg>
          </div>

          <div class="title">
            {{ $t("login.ForgetPassword") }}
            <div class="line"></div>
          </div>
          <nut-form ref="forgetRef" :model-value="forgetForm">
            <nut-form-item prop="mobile" :rules="[{ validator: customValidatorMobile }]">
              <div class="ipt-box">
                <div class="icon-box">
                  <svg
                    t="1738157641541"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="6903"
                    width="0.444rem"
                    height="0.444rem"
                  >
                    <path
                      d="M798.723234 174.782745c0-60.576657-49.106418-109.683075-109.683075-109.683075l-354.708628 0c-60.576657 0-109.683075 49.106418-109.683075 109.683075l0 673.980161c0 60.576657 49.106418 109.683075 109.683075 109.683075l354.708628 0c60.576657 0 109.683075-49.106418 109.683075-109.683075L798.723234 174.782745zM264.557398 237.015112l494.256894 0 0 529.049305-494.256894 0L264.557398 237.015112zM334.356091 105.008612 689.016623 105.008612c38.548968 0 69.798692 31.249725 69.798692 69.798692l0 22.298865-494.256894 0 0-22.298865C264.557398 136.25936 295.807123 105.008612 334.356091 105.008612zM689.016623 918.53704 334.356091 918.53704c-38.548968 0-69.798692-31.249725-69.798692-69.798692l0-43.788296 494.256894 0 0 43.788296C758.814292 887.287315 727.564567 918.53704 689.016623 918.53704z"
                      fill="#808080"
                      p-id="6904"
                    ></path>
                    <path
                      d="M513.173732 829.943282c-16.70752 0-30.30112 13.5936-30.30112 30.30112 0 16.70752 13.5936 30.30112 30.30112 30.30112s30.299073-13.5936 30.299073-30.30112C543.472805 843.536882 529.881253 829.943282 513.173732 829.943282z"
                      fill="#808080"
                      p-id="6905"
                    ></path>
                  </svg>
                  <span>+55</span>
                </div>
                <nut-input
                  :clearable="true"
                  v-model="forgetForm.mobile"
                  :placeholder="$t('login.PhoneNumber')"
                  type="number"
                />
              </div>
            </nut-form-item>
            <nut-form-item prop="password" :rules="[{ validator: customValidatorPass }]">
              <div class="ipt-box">
                <div class="icon-box">
                  <svg
                    t="1738156927936"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="5588"
                    width="0.444rem"
                    height="0.444rem"
                  >
                    <path
                      d="M854.109091 942.778182H144.290909c-25.6 0-46.545455-20.945455-46.545454-46.545455v-488.727272c0-25.6 20.945455-46.545455 46.545454-46.545455h709.818182c25.6 0 46.545455 20.945455 46.545454 46.545455v488.727272c0 25.6-20.945455 46.545455-46.545454 46.545455z m-709.818182-535.272727v488.727272h709.818182v-488.727272H144.290909z"
                      fill="#808080"
                      p-id="5589"
                    ></path>
                    <path
                      d="M278.109091 392.843636c-12.8 0-23.272727-10.472727-23.272727-23.272727v-75.403636c0-134.749091 109.614545-244.363636 244.363636-244.363637s244.363636 109.614545 244.363636 244.363637c0 12.8-10.472727 23.272727-23.272727 23.272727s-23.272727-10.472727-23.272727-23.272727c0-109.149091-88.669091-197.818182-197.818182-197.818182s-197.818182 88.669091-197.818182 197.818182v75.403636c0 12.8-10.472727 23.272727-23.272727 23.272727zM499.2 817.803636c-57.716364 0-104.727273-47.010909-104.727273-104.727272 0-34.909091 17.92-67.490909 46.545455-86.807273v-81.92a58.181818 58.181818 0 0 1 116.363636 0v81.92c28.625455 19.316364 46.545455 51.898182 46.545455 86.807273 0 57.716364-47.010909 104.727273-104.727273 104.727272z m0-285.090909c-6.516364 0-11.636364 5.12-11.636364 11.636364v95.418182c0 9.076364-5.12 17.221818-13.265454 20.945454-20.48 9.774545-33.28 29.789091-33.28 52.363637a58.181818 58.181818 0 0 0 116.363636 0c0-22.341818-12.8-42.589091-33.28-52.363637-8.145455-3.956364-13.265455-12.101818-13.265454-20.945454v-95.418182c0-6.516364-5.352727-11.636364-11.636364-11.636364z"
                      fill="#808080"
                      p-id="5590"
                    ></path>
                  </svg>
                </div>
                <nut-input
                  v-model="forgetForm.password"
                  placeholder="Password"
                  :type="showpass.forget_pass ? 'text' : 'password'"
                />
                <img
                  @click="showpass.forget_pass = false"
                  v-if="showpass.forget_pass"
                  class="pass-icon"
                  src="../assets/images/login/yanjingguan.png"
                />
                <img
                  @click="showpass.forget_pass = true"
                  v-else
                  class="pass-icon"
                  src="../assets/images/login/yanjingkai.png"
                />
              </div>
            </nut-form-item>
            <nut-form-item prop="code" :rules="[{ validator: customValidatorCode }]">
              <div class="code-row">
                <div class="code-col">
                  <modalCode :showTitle="false" :codeLen="4" @complete="onComplete" />
                </div>
                <div class="code-btn">Code</div>
              </div>
            </nut-form-item>
            <nut-form-item prop="submit">
              <div class="login-btn" @click="confirmForget()">
                {{ $t("login.Continuar")
                }}<svg
                  v-if="is_loading"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  width="22px"
                  height="22px"
                  viewBox="0 0 50 50"
                  style="enable-background: new 0 0 50 50"
                  xml:space="preserve"
                >
                  <path
                    fill="#181717"
                    d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"
                    transform="rotate(275.098 25 25)"
                  >
                    <animateTransform
                      attributeType="xml"
                      attributeName="transform"
                      type="rotate"
                      from="0 25 25"
                      to="360 25 25"
                      dur="0.6s"
                      repeatCount="indefinite"
                    ></animateTransform>
                  </path>
                </svg>
              </div>
            </nut-form-item>
          </nut-form>
        </div>
      </div>
    </nut-overlay>

    <nut-popup v-model:visible="showBirthday" position="bottom">
      <nut-date-picker
        v-model="val"
        :min-date="min"
        :three-dimensional="false"
        @confirm="confirm"
        @cancel="cancel"
      ></nut-date-picker>
    </nut-popup>
  </div>
</template>

<script>
import modalCode from "@/components/modalCode.vue";
export default {
  components: {
    modalCode,
  },
};
</script>

<script setup>
import { ref, watch, onMounted, computed } from "vue";
import { useRouter, useRoute } from "vue-router";
import { Close } from "@nutui/icons-vue";
import {
  _validpassword,
  _validname,
  _validemail,
  _validphone,
  _validbirth,
  checkOnline,
} from "@/utils/utils";
import { useStore } from "vuex";
import { login, register } from "@/apis/user.js";
let { dispatch, state, commit } = useStore();

const modal_visible = ref(false);
const showpass = ref({
  login_pass: false,
  register_pass: false,
  register_pass_again: false,
  forget_pass: false,
});
const onComplete = (val) => {
  console.log("complete", val);
  forgetForm.value.code = val;
};
const is_check = ref(true);
const showBirthday = ref(false);
const min = new Date(1900, 0, 1);
const val = ref(new Date(2022, 4, 10));
const confirm = ({ selectedValue }) => {
  registerForm1.value.birthday =
    selectedValue[0] + "-" + selectedValue[1] + "-" + selectedValue[2];
  showBirthday.value = false;
};
const confirmForget = () => {
  if (is_loading.value) return;
  forgetRef.value.validate().then(({ valid, errors }) => {
    if (valid) {
      is_loading.value = true;
    } else {
      console.warn("error:", errors);
    }
  });
};
const cancel = () => {
  showBirthday.value = false;
};

const logo = state.station_base.fullStationLogo;
const station_name = state.station_base.stationName;
const mode = ref("login");
const router = useRouter();
const route = useRoute();
const loginRef = ref(null);
const forgetRef = ref(null);
const forgetForm = ref({
  mobile: "",
  password: "",
  code: "",
});
const loginForm = ref({
  account: "",
  password: "",
});
const registerRef1 = ref(null);
const registerRef2 = ref(null);
const registerForm1 = ref({
  birthday: "",
  idcard: "",
  sex: 1,
  realName: "",
});
const registerForm2 = ref({
  account: "",
  password: "",
  repassword: "",
});
const reg_step = ref(1);
const is_loading = ref(false);
const is_enter = ref(false);
const login_type = ref("1");
watch(
  () => loginForm,
  (newValue, oldValue) => {
    if (newValue.value.account && newValue.value.password) {
      is_enter.value = true;
    } else {
      is_enter.value = false;
    }
  },
  { deep: true }
);
const submitRegisterStep1 = () => {
  registerRef1.value.validate().then(({ valid, errors }) => {
    if (valid) {
      reg_step.value = 2;
    } else {
      console.warn("error:", errors);
    }
  });
};
const submitRegister2 = () => {
  if (is_loading.value) return;
  registerRef2.value.validate().then(({ valid, errors }) => {
    if (valid) {
      is_loading.value = true;
      let obj = {
        account: registerForm2.value.account,
        password: registerForm2.value.password,
        type: login_type.value,
        birthday: registerForm1.value.birthday,
        idcard: registerForm1.value.idcard,
        sex: registerForm1.value.sex,
        realName: registerForm1.value.realName,
      };
      //  if (localStorage.getItem("agentId")) obj.agentid = localStorage.getItem("agentId");
      register({ ...obj })
        .then((res) => {
          if (res.code == 200) {
            router.push({
              path: "/home",
            });
            commit("set_show_tip", { type: 1, msg: "register success" });
          } else {
            commit("set_show_tip", { type: 0, msg: res.msg });
          }
          is_loading.value = false;
        })
        .catch((err) => {
          is_loading.value = false;
        });
    } else {
      console.warn("error:", errors);
    }
  });
};
const submitLogin = () => {
  if (is_loading.value) return;
  loginRef.value.validate().then(({ valid, errors }) => {
    if (valid) {
      is_loading.value = true;
      login(loginForm.value.account, loginForm.value.password, login_type.value)
        .then((res) => {
          if (res.code == 200) {
            localStorage.setItem("loginInfo", res.data);
            localStorage.setItem("accessToken", res.data.accessToken);
            dispatch("GET_USER_INFO");
            dispatch("GET_USER_BALANCE");
            dispatch("GET_MSG_LIST");
            dispatch("GET_UNREAD_COUNT");
            checkOnline(1);
            router.push({
              path: "/home",
            });
            commit("set_show_tip", { type: 1, msg: "login success" });
            commit("set_login_tip_visible", true);
          } else {
            commit("set_show_tip", { type: 1, msg: res.msg });
          }
          is_loading.value = false;
        })
        .catch((err) => {
          is_loading.value = false;
        });
    } else {
      console.warn("error:", errors);
    }
  });
};
const customBlurValidate = (prop) => {
  loginRef.value.validate(prop);
};
const customValidatorPassCPF = (val) => {
  if (val) {
    return Promise.resolve();
  } else {
    return Promise.reject("Please Enter CPF");
  }
};
const customValidatorRealName = (val) => {
  if (val) {
    return Promise.resolve();
  } else {
    return Promise.reject("please Enter Real Name");
  }
};
const customValidatorCode = (val) => {
  let code = forgetForm.value.code.filter(
    (item) => item !== undefined && item !== null && item !== ""
  );
  if (code.length == 4) {
    return Promise.resolve();
  } else {
    return Promise.reject("please Enter Code");
  }
};
const customValidatorAccount = (val) => {
  if (login_type.value == 1 && _validphone(val)) {
    return Promise.resolve();
  } else if (login_type.value == 2 && _validemail(val)) {
    return Promise.resolve();
  } else if (login_type.value == 0 && _validname(val)) {
    return Promise.resolve();
  } else {
    return Promise.reject("account error");
  }
};
const customValidatorMobile = (val) => {
  if (_validphone(val)) {
    return Promise.resolve();
  } else {
    return Promise.reject("account error");
  }
};
const customValidatorPass = (val) => {
  if (_validpassword(val)) {
    return Promise.resolve();
  } else {
    return Promise.reject("Please enter a 6-20 digit password.");
  }
};
const customValidatorPassAgain = (val) => {
  if (_validpassword(val) && val == registerForm2.value.password) {
    return Promise.resolve();
  } else {
    return Promise.reject("Please enter a 6-16 digit password.");
  }
};
const customValidatorBirthday = (val) => {
  if (_validbirth(val)) {
    return Promise.resolve();
  } else {
    return Promise.reject("Menor de 18 anos.");
  }
};
const back = () => {
  router.go(-1);
};
const goPath = (path) => {
  router.push({
    path: path,
  });
};
const changeTab = (val) => {
  mode.value = val;
};
const changeLoginType = (type) => {
  login_type.value = type;
};
const changeSex = (sex) => {
  registerForm1.value.sex = sex;
};
onMounted(() => {
  mode.value = route.query.mode ? route.query.mode : "login";
  reg_step.value = state.is_cpf ? 1 : 2;
});
</script>

<style lang="scss" scoped>
@import "../assets/styles/variables.scss";

.pass-icon {
  position: absolute;
  right: 0.416rem;
  bottom: 0.333rem;
  width: 0.444rem;
}

.overlay-body {
  display: flex;
  height: 100%;
  align-items: center;
  justify-content: center;
  .overlay-content {
    width: calc(100% - 0.833rem);
    background: #1f1e1e;
    background: linear-gradient(135deg, #1f1e1e 0%, #1f1e1e 75%, #413825 100%);
    border-radius: 0.555rem;
    box-sizing: border-box;
    padding: 0 0.416rem 0.555rem 0.416rem;
    .code-row {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      .code-col {
        width: calc(100% - 2.832rem);
      }
      .code-btn {
        width: 2rem;
        height: 0.916rem;
        border-radius: 0.472rem;
        border: 0.027rem solid #ffc02e;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 0.361rem;
        color: #e6e6e6;
      }
    }

    .modal-close {
      width: 100%;
      display: flex;
      justify-content: flex-end;
      box-sizing: border-box;
      padding: 0.416rem 0 0 0;
    }
    .login-btn {
      margin-top: 1.2rem;
      width: 100%;
      height: 1.111rem;
      background: $primary-color;
      border-radius: 0.555rem;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 0.361rem;
      color: #181717;
    }
    .ipt-box {
      width: 100%;
      height: 1.111rem;
      background: #0f0f0f;
      border-radius: 0.555rem;
      display: flex;
      align-items: center;
      box-sizing: border-box;
      padding: 0 0.416rem;
      position: relative;
      .icon-box {
        display: flex;
        align-items: center;
        box-sizing: border-box;
        padding-right: 0.416rem;
        span {
          font-size: 0.305rem;
          color: #808080;
          padding-left: 0.138rem;
        }
      }
    }
    .title {
      width: 100%;
      height: 1.188rem;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom: 0.027rem solid #383838;
      position: relative;
      font-weight: bold;
      font-size: 0.461rem;
      color: #e6e6e6;
      .line {
        position: absolute;
        bottom: 0;
        left: calc((100% - 1.861rem) / 2);
        width: 1.861rem;
        height: 0.055rem;
        background: #ffcb78;
        border-radius: 0.027rem;
      }
    }
    .close {
      width: 100%;
      display: flex;
      justify-content: flex-end;
      box-sizing: border-box;
      padding: 0.416rem 0 0 0;
    }
  }
}
.permission {
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  padding: 1.5rem 0 0 0;

  .form-container {
    width: calc(100% - 0.554rem);
    border-radius: 0.555rem;
    box-sizing: border-box;
    padding: 0.416rem 0.277rem;
    background: #1f1e1e;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-top: 00.555rem;
    .form-box {
      width: 100%;
      .gender {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        .item {
          width: 3.883rem;
          height: 1.111rem;
          border-radius: 0.555rem;
          display: flex;
          justify-content: center;
          align-items: center;

          span {
            font-weight: bold;
            font-size: 0.305rem;
            color: #e6e6e6;
            padding-left: 0.138rem;
          }
        }
        .active {
          background: $primary-color;
        }
        .unactive {
          background: #0d0d0d;
        }
      }
      .ipt-title {
        width: 100%;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        box-sizing: border-box;
        padding-left: 0.277rem;
        span {
          color: #e6e6e6;
          font-size: 0.333rem;
          font-weight: bold;
        }
        .circle {
          margin-left: 0.138rem;
          width: 0.166rem;
          height: 0.166rem;
          background: #ff0707;
          border-radius: 50%;
          margin-bottom: 0.138rem;
        }
      }
      .des {
        width: 100%;
        color: #808080;
        font-size: 0.305rem;
        line-height: 0.361rem;
        span {
          color: $primary-color;
        }
      }
      .login-btn {
        margin-top: 1.5rem;
        width: 100%;
        height: 1.111rem;
        background: $primary-color;
        border-radius: 0.555rem;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 0.361rem;
        color: #181717;
      }
      .register-btn {
        width: 100%;
        height: 1.111rem;
        border: 0.027rem solid $primary-color;
        border-radius: 0.555rem;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0.416rem 0;
        font-weight: bold;
        font-size: 0.361rem;
        color: $primary-color;
      }
      .forget-row {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        .forget {
          font-size: 0.305rem;
          font-weight: bold;
          color: #06a950;
        }
        .check {
          display: flex;
          align-items: center;
          img {
            width: 0.361rem;
          }
          span {
            padding-left: 0.138rem;
            font-size: 0.305rem;
            font-weight: bold;
            color: #06a950;
          }
        }
      }
      .ipt-box {
        width: 100%;
        height: 1.111rem;
        background: #0f0f0f;
        border-radius: 0.555rem;
        display: flex;
        align-items: center;
        box-sizing: border-box;
        padding: 0 0.416rem;
        position: relative;
        .icon-box {
          display: flex;
          align-items: center;
          box-sizing: border-box;
          padding-right: 0.416rem;
          span {
            font-size: 0.305rem;
            color: #808080;
            padding-left: 0.138rem;
          }
        }
      }
      .login-type-box {
        margin-top: 0.416rem;
        width: 100%;
        display: flex;
        align-items: center;
        border-bottom: 0.027rem solid #383838;
        .type-item {
          width: calc(100% / 3);
          height: 1.111rem;
          position: relative;
          display: flex;
          justify-content: center;
          align-items: center;

          span {
            font-size: 0.305rem;
            font-weight: bold;
            padding-left: 0.138rem;
          }
          .active {
            color: $primary-color;
          }
          .unactive {
            color: #808080;
          }
          .active-type {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0.055rem;
            background: #ffcb78;
          }
        }
      }
    }
    .form-type {
      display: flex;
      align-items: center;
      .item {
        width: 3.222rem;
        height: 0.916rem;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 0.361rem;
      }
      .item-left {
        border-radius: 0.472rem 0px 0px 0.472rem;
      }
      .item-right {
        border-radius: 0px 0.472rem 0.472rem 0px;
      }
      .active {
        background: $primary-color;
        color: $color-black;
      }
      .unactive {
        background: #0d0d0d;
        color: #808080;
      }
    }
  }

  .img-box {
    width: 100%;
    box-sizing: border-box;
    padding: 0 0 0.416rem 0.416rem;
    img {
      height: 1rem;
    }
  }

  .title {
    width: 100%;
    box-sizing: border-box;
    padding: 0 0.416rem;
    font-weight: bold;
    font-size: 0.361rem;
    color: $color-sub-text;
  }
  .close {
    position: fixed;
    top: calc(env(safe-area-inset-top) + 0.694rem);
    left: 0;
    width: 100%;
    display: flex;
    justify-content: flex-end;
    box-sizing: border-box;
    padding: 0 0.694rem;
  }
}
</style>
